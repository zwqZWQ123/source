---
title: 数据库原理（三）
date: 2017-04-04 17:26:08
tags: 
- 视图
- union
- union all
- 数据库日志文件
description: 数据库（Data  Base，简称DB）———— 存储在计算机存储介质上的、有一定组织形式的、可共享的、相互关联的数据集合。简单的说即为存储数据的仓库。

categories: 数据库
---
# 视图
&ensp;&emsp;&emsp;**视图**是由从数据库的基本表中选取出来的数据组成的逻辑窗口，与基本表不同，它是一个虚表。在数据库中，存放的只是视图的定义，而不是存放视图包含的数据项，这些项目仍然存放在原来的基本表结构中。
&ensp;&emsp;&emsp;视图的作用主要有以下几点：

1. 可以简化数据查询语句；
2. 可以使用户能从多角度看待同一数据；
3. 通过引入视图可以提高数据的安全性；
4. 视图提供一定程度的逻辑独立性。

# union 和 union all有什么区别
&ensp;&emsp;&emsp;**union**在进行表求并集后会去掉重复的元素，所以会对所产生的结果集进行排序运算，删除重复的记录再返回结果。
&ensp;&emsp;&emsp;**union all**只是简单地将两个结果集合并后就返回结果。因此，如果返回的两个结果集中有重复的数据，那么返回的结果集就会包含重复的数据。
&ensp;&emsp;&emsp;从上面的对比可以看出，在执行查询操作时，**union all要比union快得多**。举个栗子，现在有两个学生表Table1和Table2。
<center>**Table1**</center>

|C1|C2|
|:--|:--|
|1|1|
|2|2|
|3|3|
<center>**Table2**</center>

|C1|C2|
|:--|:--|
|3|3|
|4|4|
|1|1|
select * from Table1 union select * from Table2的查询结果如下：
<center>**使用union得到的查询结果**</center>

|C1|C2|
|:--|:--|
|1|1|
|2|2|
|3|3|
|4|4|
select * from Table1 union all select * from Table2的查询结果如下：
<center>**使用union all得到的查询结果**</center>

|C1|C2|
|:--|:--|
|1|1|
|2|2|
|3|3|
|3|3|
|4|4|
|1|1|

# 日志文件（Log File）
&ensp;&emsp;&emsp;**日志文件（Log File）**记录所有对数据库数据的修改，主要是保护数据库以防故障发生，以及恢复数据时使用。其特点如下：

1. 每一个数据库至少包含两个日志文件组。每个日志文件组至少包含两个日志文件成员。
2. 日志文件组以循环方式进行写操作。
3. 每一个日志文件成员对应一个物理文件。

&ensp;&emsp;&emsp;通过**日志文件**来记录数据库事务可以最大限度地保证数据的一致性与安全性，但一旦数据库中日志满了，就只能执行查询等读操作，不能执行更改、备份等操作，原因是任何写操作都要记录日志，也就是说，基本上处于不能使用的状态。



